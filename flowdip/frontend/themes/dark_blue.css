/* =============================================================================
   Modern dark theme — QSS for PySide6
   Base colors:
     - Base        : #1A1E24
     - Surface     : #232A36 / #2A3240 / #323A48
     - Text        : #F0F4FC
     - Subtle text : #B8C2D0
     - Accent      : #6B9EFF
     - Success/Warning/Error: #32D574 / #FFAB1A / #FF5555
   ========================================================================== */

/* --------------------- Global reset and typography ----------------------- */
* {
    outline: none;
}

QWidget {
    background-color: #1A1E24;
    color: #F0F4FC;
    font-family: "Inter", "Segoe UI", "Ubuntu", "Roboto", "Noto Sans", sans-serif;
    font-size: 13px;
}

/* Secondary/muted text helper */
QLabel[secondary="true"],
.secondary,
.muted {
    color: #B8C2D0;
}

/* Clean horizontal/vertical lines */
QFrame[frameShape="4"],
/* HLine */
QFrame[frameShape="5"]

/* VLine */
    {
    background: transparent;
    border: none;
    color: transparent;
}

QFrame[frameShape="4"]::horizontal,
QFrame[frameShape="5"]::vertical {
    background: #363E4A;
    height: 1px;
    width: 1px;
}

/* --------------------- Buttons ------------------------------------------- */
QPushButton,
QToolButton {
    background-color: #2A3240;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 8px;
    /* slightly less round */
    padding: 7px 14px;
}

QPushButton:hover,
QToolButton:hover {
    background-color: #323A48;
    border-color: #4A5870;
}

QPushButton:pressed,
QToolButton:pressed {
    background-color: #253040;
    border-color: #6B9EFF;
}

QPushButton:default {
    background-color: #3A4352;
    border-color: #6B9EFF;
    color: #F4F8FF;
}

QPushButton:disabled,
QToolButton:disabled {
    color: #8E98A8;
    background-color: #232A36;
    border-color: #363E4A;
}

/* Primary action button (set dynamic property: class="primary") */
QPushButton[class~="primary"] {
    background-color: #6B9EFF;
    color: #1A1E24;
    border: 1px solid #6B9EFF;
}

QPushButton[class~="primary"]:hover {
    background-color: #85AFFF;
}

QPushButton[class~="primary"]:pressed {
    background-color: #5B8DFF;
}

/* Optional semantic buttons */
QPushButton[class~="danger"] {
    background: #FF5555;
    border-color: #FF5555;
    color: #1A1E24;
}

QPushButton[class~="danger"]:hover {
    background: #FF7373;
}

QPushButton[class~="success"] {
    background: #32D574;
    border-color: #32D574;
    color: #1A1E24;
}

QPushButton[class~="success"]:hover {
    background: #41E183;
}

/* --------------------- Inputs -------------------------------------------- */
QLineEdit,
QPlainTextEdit,
QTextEdit,
QSpinBox,
QDoubleSpinBox,
QDateEdit,
QTimeEdit,
QDateTimeEdit {
    background-color: #242932;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 8px;
    /* slightly less round */
    padding: 6px 10px;
    selection-background-color: #3C84FF;
    selection-color: #FFFFFF;
}

QLineEdit:focus,
QPlainTextEdit:focus,
QTextEdit:focus,
QSpinBox:focus,
QDoubleSpinBox:focus,
QDateEdit:focus,
QTimeEdit:focus,
QDateTimeEdit:focus {
    border: 1px solid #6B9EFF;
    background-color: #252C36;
}

QLineEdit:disabled,
QPlainTextEdit:disabled,
QTextEdit:disabled,
QSpinBox:disabled,
QDoubleSpinBox:disabled {
    color: #8E98A8;
    background-color: #1F262C;
    border-color: #30374A;
}

/* Subtle placeholders */
QLineEdit::placeholder,
QTextEdit[placeholderText],
QPlainTextEdit[placeholderText] {
    color: #9AA4B6;
}

/* --------------------- ComboBox ------------------------------------------ */
QComboBox {
    background-color: #242932;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 8px;
    /* slightly less round */
    padding: 6px 32px 6px 10px;
}

QComboBox:hover {
    border-color: #4A5870;
}

QComboBox:focus {
    border: 1px solid #6B9EFF;
    background-color: #252C36;
}

QComboBox::drop-down {
    subcontrol-origin: padding;
    subcontrol-position: top right;
    width: 26px;
    border-left: 1px solid #3A4856;
    background: #2A3039;
    border-top-right-radius: 8px;
    /* match overall radius */
    border-bottom-right-radius: 8px;
}

QComboBox::down-arrow {
    image: none;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 7px solid #B8C2D0;
    margin-right: 10px;
}

QComboBox QAbstractItemView {
    background: #2A3240;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    selection-background-color: #334160;
    selection-color: #F4F8FF;
    outline: none;
}

/* Brighter hover for combo popup list */
QComboBox QAbstractItemView::item {
    padding: 6px 10px;
    /* consistent spacing */
}

/* Hover state — brighter than selected */
QComboBox QAbstractItemView::item:hover {
    background: #9AC0FF;
    /* brighter accent */
    color: #1A1E24;
    /* dark text for contrast */
}

/* Selected state — solid accent color */
QComboBox QAbstractItemView::item:selected {
    background: #6B9EFF;
    /* primary accent */
    color: #1A1E24;
}

/* Selected + hover — keep it bright */
QComboBox QAbstractItemView::item:selected:hover {
    background: #9AC0FF;
    color: #1A1E24;
}

/* --------------------- CheckBox / Radio ---------------------------------- */
QCheckBox,
QRadioButton {
    color: #F0F4FC;
    spacing: 8px;
}

QCheckBox::indicator,
QRadioButton::indicator {
    width: 18px;
    height: 18px;
    border: 1px solid #3A4856;
    background: #242932;
    border-radius: 4px;
    /* slightly less round for checkboxes */
}

QCheckBox::indicator:hover,
QRadioButton::indicator:hover {
    border-color: #4A5870;
}

QCheckBox::indicator:checked {
    border-color: #6B9EFF;
    background: #6B9EFF;
    image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18'><path fill='%231A1E24' d='M7.4 12.2 4.6 9.4 3.2 10.8l4.2 4.2 7.4-7.4-1.4-1.4z'/></svg>");
}

/* Keep radio as a proper circle */
QRadioButton::indicator {
    border-radius: 9px;
}

QRadioButton::indicator:checked {
    border-color: #6B9EFF;
    background: radial-gradient(circle at center, #6B9EFF 45%, #242932 46%);
}

/* --------------------- GroupBox ------------------------------------------ */
QGroupBox {
    border: 1px solid #323A46;
    border-radius: 6px;
    margin-top: 12px;
    /* space above for the title */
    background: #222730;
    padding-top: 14px;
    /* room inside for the title line */
}

QGroupBox::title {
    subcontrol-origin: margin;
    subcontrol-position: top left;
    color: #B8C2D0;
    padding: 0 6px;
    margin-top: -6px;
    /* gentle overlap without clipping */
    background: #222730;
    font-size: 11pt;
    font-weight: bold;
}

/* --------------------- Menus and bars ------------------------------------ */
QMenuBar {
    background: #1A1E24;
    color: #F0F4FC;
}

QMenuBar::item {
    padding: 6px 10px;
    background: transparent;
    border-radius: 6px;
    /* slightly less round */
}

QMenuBar::item:selected {
    background: #2A3240;
}

/* --------------------- Context Menus ------------------------------------- */
/* Base right-click popup menu */
QMenu {
    background-color: #222730;
    border: 1px solid #3A4856;
    border-radius: 8px;
    padding: 6px 0;
    color: #F0F4FC;
    font-size: 13px;
    /* Subtle shadow (if supported by platform) */
}

/* Menu items */
QMenu::item {
    padding: 8px 14px;
    border-radius: 6px;
    background: transparent;
}

/* Hovered (highlighted) menu item */
QMenu::item:selected {
    background-color: #334160;
    color: #F4F8FF;
}

/* Pressed (clicked) menu item */
QMenu::item:pressed {
    background-color: #6B9EFF;
    color: #1A1E24;
}

/* Disabled menu item */
QMenu::item:disabled {
    color: #76808A;
    background: transparent;
}

/* Separator lines between menu groups */
QMenu::separator {
    height: 1px;
    background-color: #323844;
    margin: 6px 8px;
}

/* Submenus (like "Add → Node Type") */
QMenu::indicator {
    width: 10px;
    height: 10px;
}

/* ToolBar */
QToolBar {
    background: #1A1E24;
    border-bottom: 1px solid #242932;
    spacing: 6px;
}

/* Status bar */
QStatusBar {
    background: #1A1E24;
    color: #B8C2D0;
}

QStatusBar::item {
    border: none;
}

/* --------------------- Tabs ---------------------------------------------- */
QTabWidget::pane {
    border: 1px solid #323A46;
    border-radius: 8px;
    /* slightly less round */
    top: 8px;
    background: #222730;
}

QTabBar::tab {
    background: transparent;
    color: #B8C2D0;
    border: none;
    padding: 8px 14px;
    margin: 0 4px;
    border-radius: 6px;
    /* slightly less round */
}

QTabBar::tab:selected {
    color: #F0F4FC;
}

QTabBar::tab:selected::bottom,
QTabBar::tab:selected::top {
    border-bottom: 2px solid #6B9EFF;
}

/* --------------------- Scrollbars ---------------------------------------- */
QScrollBar:vertical,
QScrollBar:horizontal {
    background: #1A1E24;
    border: none;
    margin: 0;
}

QScrollBar:vertical {
    width: 12px;
}

QScrollBar:horizontal {
    height: 12px;
}

QScrollBar::handle:vertical,
QScrollBar::handle:horizontal {
    background: #3A4352;
    border-radius: 6px;
    /* small elements = smaller radius */
    min-height: 24px;
    min-width: 24px;
}

QScrollBar::handle:vertical:hover,
QScrollBar::handle:horizontal:hover {
    background: #4A5570;
}

QScrollBar::add-line,
QScrollBar::sub-line {
    height: 0;
    width: 0;
}

QScrollBar::add-page,
QScrollBar::sub-page {
    background: none;
}

/* --------------------- Sliders ------------------------------------------- */
QSlider::groove:horizontal,
QSlider::groove:vertical {
    background: #323844;
    border-radius: 2px;
}

QSlider::groove:horizontal {
    height: 4px;
}

QSlider::groove:vertical {
    width: 4px;
}

QSlider::handle:horizontal,
QSlider::handle:vertical {
    background: #6B9EFF;
    border: 2px solid #1A1E24;
    width: 16px;
    height: 16px;
    border-radius: 8px;
    /* thumb remains circular-ish */
    margin: -6px 0;
}

QSlider::handle:horizontal:hover,
QSlider::handle:vertical:hover {
    background: #85AFFF;
}

/* --------------------- Progress bars ------------------------------------- */
QProgressBar {
    background: #242932;
    border: 1px solid #323A46;
    border-radius: 8px;
    /* slightly less round */
    text-align: center;
    padding: 2px;
    color: #F0F4FC;
}

QProgressBar::chunk {
    background-color: #6B9EFF;
    border-radius: 6px;
}

/* --------------------- Item views (Table/Tree/List) ---------------------- */
QTreeView,
QTableView,
QListView {
    background: #222730;
    border: 1px solid #323A46;
    border-radius: 8px;
    /* slightly less round */
    alternate-background-color: #1F242D;
    gridline-color: #2E3642;
    selection-background-color: #334160;
    selection-color: #F4F8FF;
}

QTreeView::item,
QListView::item {
    padding: 6px 8px;
}

QTreeView::item:selected,
QListView::item:selected {
    background: #334160;
}

QHeaderView::section {
    background: #263235;
    color: #B8C2D0;
    border: 1px solid #323A46;
    padding: 6px 8px;
    border-top-left-radius: 6px;
    /* slightly less round */
    border-top-right-radius: 6px;
}

QTableCornerButton::section {
    background: #263235;
    border: 1px solid #323A46;
}

/* --------------------- Dock widgets -------------------------------------- */
QDockWidget {
    titlebar-close-icon: none;
    titlebar-normal-icon: none;
    color: #B8C2D0;
}

QDockWidget::title {
    text-align: left;
    padding: 6px 10px;
    background: #222730;
    border: 1px solid #323A46;
    border-top-left-radius: 8px;
    /* slightly less round */
    border-top-right-radius: 8px;
}

/* --------------------- Tooltips ------------------------------------------ */
QToolTip {
    background: #222730;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    padding: 6px 8px;
    border-radius: 8px;
    /* slightly less round */
}

/* --------------------- GraphicsView frame -------------------------------- */
QGraphicsView {
    background: #1A1E24;
    border: 1px solid #323A46;
    border-radius: 8px;
    /* slightly less round */
}

/* Pressed (mouse down) */
QPushButton:pressed,
QToolButton:pressed {
    background-color: #27303B;
    /* darker surface */
    border-color: #6B9EFF;
    /* accent ring */
}

/* Toggled ON (button is checkable/checked) */
QPushButton:checked,
QToolButton:checked {
    background-color: #6B9EFF;
    /* filled accent */
    color: #1A1E24;
    /* dark text for contrast */
    border-color: #6B9EFF;
}

/* Toggled + hover (a bit brighter) */
QPushButton:checked:hover,
QToolButton:checked:hover {
    background-color: #9AC0FF;
}

/* Toggled but disabled */
QPushButton:checked:disabled,
QToolButton:checked:disabled {
    background-color: #4A5F8A;
    color: #DEE7F6;
    border-color: #4A5F8A;
}


/* --------------------- Optional state helpers ---------------------------- */
.success-bg {
    background: #243E2E;
    border: 1px solid #32D574;
    border-radius: 8px;
}

.warning-bg {
    background: #3D3622;
    border: 1px solid #FFAB1A;
    border-radius: 8px;
}

.error-bg {
    background: #3F2727;
    border: 1px solid #FF5555;
    border-radius: 8px;
}

/* =============================================================================
   Modern dark theme — Compact version
   Tightened padding, margins, and radius for a denser UI
   ========================================================================== */

/* --------------------- Buttons ------------------------------------------- */
QPushButton,
QToolButton {
    background-color: #2A3240;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 5px;
    padding: 3px 8px;
}

QPushButton:hover,
QToolButton:hover {
    background-color: #323A48;
    border-color: #4A5870;
}

QPushButton:pressed,
QToolButton:pressed {
    background-color: #253040;
    border-color: #6B9EFF;
}

QPushButton:default {
    background-color: #3A4352;
    border-color: #6B9EFF;
    color: #F4F8FF;
}

/* Primary / Accent Buttons */
QPushButton[class~="primary"] {
    background-color: #6B9EFF;
    color: #1A1E24;
    border: 1px solid #6B9EFF;
    padding: 3px 8px;
    border-radius: 5px;
}

QPushButton[class~="primary"]:hover {
    background-color: #85AFFF;
}

/* --------------------- Inputs -------------------------------------------- */
QLineEdit,
QPlainTextEdit,
QTextEdit,
QSpinBox,
QDoubleSpinBox,
QDateEdit,
QTimeEdit,
QDateTimeEdit {
    background-color: #242932;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 5px;
    padding: 3px 6px;
}

QLineEdit:focus,
QPlainTextEdit:focus,
QTextEdit:focus {
    border: 1px solid #6B9EFF;
    background-color: #252C36;
}

/* --------------------- ComboBox ------------------------------------------ */
QComboBox {
    background-color: #242932;
    color: #F0F4FC;
    border: 1px solid #3A4856;
    border-radius: 5px;
    padding: 2px 20px 2px 6px;
}

QComboBox::drop-down {
    width: 20px;
    border-left: 1px solid #3A4856;
    background: #2A3039;
}

/* --------------------- CheckBox / Radio ---------------------------------- */

QCheckBox::indicator,
QRadioButton::indicator {
    width: 14px;
    height: 14px;
    border: 1px solid #3A4856;
    border-radius: 3px;
}

/* --------------------- GroupBox ------------------------------------------ */
QGroupBox {
    border: 1px solid #323A46;
    border-radius: 4px;
    margin-top: 8px;
    background: #222730;
    padding-top: 10px;
}

QGroupBox::title {
    padding: 0 4px;
    margin-top: -4px;
    font-size: 10pt;
}

/* --------------------- Menus --------------------------------------------- */
QMenuBar {
    background: #1A1E24;
    color: #F0F4FC;
}

QMenuBar::item {
    padding: 3px 6px;
    border-radius: 4px;
}

QMenu {
    background-color: #222730;
    border: 1px solid #3A4856;
    border-radius: 6px;
    padding: 3px 0;
}

QMenu::item {
    padding: 4px 10px;
    border-radius: 4px;
}

QMenu::item:selected {
    background-color: #334160;
}

/* --------------------- Tabs ---------------------------------------------- */
QTabBar::tab {
    padding: 4px 8px;
    margin: 0 2px;
    border-radius: 4px;
}

/* --------------------- Scrollbars ---------------------------------------- */
QScrollBar:vertical {
    width: 10px;
}

QScrollBar:horizontal {
    height: 10px;
}

QScrollBar::handle:vertical,
QScrollBar::handle:horizontal {
    border-radius: 4px;
    min-height: 16px;
    min-width: 16px;
}

/* --------------------- Sliders ------------------------------------------- */
QSlider::groove:horizontal {
    height: 3px;
}

QSlider::handle:horizontal {
    width: 12px;
    height: 12px;
    border-radius: 6px;
}

/* --------------------- Progress bars ------------------------------------- */
QProgressBar {
    border-radius: 5px;
    padding: 1px;
}

/* --------------------- Tree / Table / List ------------------------------- */
QTreeView,
QTableView,
QListView {
    border-radius: 5px;
}

QTreeView::item,
QListView::item {
    padding: 2px 4px;
}

/* --------------------- Tooltips ------------------------------------------ */
QToolTip {
    padding: 3px 5px;
    border-radius: 5px;
}

/* --------------------- Context Menus ------------------------------------- */
QMenu {
    padding: 3px 0;
    border-radius: 6px;
}

QMenu::item {
    padding: 4px 10px;
    border-radius: 4px;
}

/* --------------------- GraphicsView -------------------------------------- */
QGraphicsView {
    border-radius: 5px;
}

/* Regular text buttons */
QPushButton {
    padding: 5px 10px;
}

/* Tool buttons (icon buttons) */
QToolButton {
    padding: 2px;
}

QToolButton:hover {
    border-radius: 4px;
}